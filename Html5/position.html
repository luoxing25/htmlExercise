<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src=http://maps.google.com/maps/api/js?sensor=false/>
	<script type="text/javascript">
		function init(){
			navigator.geolocation.getCurrentPosition(function(position){
				var coords=position.coords;
				var latlng=new google.maps.LatLng(coords.latitude,coords.longitude);
				var myOptions={
					zoom:14,
					center:latlng,
					mapTypeId:google.maps.MapTypeId.ROADMAP
				};
				var map1;
				map1=new google.maps.Map(document.getElementById("map"),myOptions);
				var marker=new google.maps.Marker({
					position:latlng,
					map:map1
				});
				var infowindow=new google.maps.InfoWindow({
					content:"当前位置";
				});
				infowindow.open(map1,marker);
			});

		}
	</script>
</head>
<body onload="init()">
	<div id="map" width="500" height="500"></div>	
</body>
</html>